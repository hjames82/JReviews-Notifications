<?phpdefined('MVC_FRAMEWORK') or die;/** * The class name is the CamelCased filename  */class AdminJobsAlertController extends MyController {  /**     * Autoloads Models in the array     * @var array     */    var $uses = array('category', 'criteria', 'directory', 'jreviews_category', 'field', 'field_option');    var $helpers = array('html', 'form', 'admin/admin_settings');    var $components = array('config');    function beforeFilter() {        parent::beforeFilter();    }    function index() {        // We use an existing method in the Criteria model to get the Listing Types        $listingTypes = $this->Criteria->getSelectList();        //get cats         $cats_id = Sanitize::getVar($this->Config, 'cat_id');        $this->set(array('cats_id' => $cats_id, 'listingTypes' => $listingTypes));        // Render the View        return $this->render('jobsalert', 'index');    }    function _loadField() {        $criteria_id = JRequest::get("criteria_id");        $criteria_id = $criteria_id['criteria_id'];        $params = Sanitize::getVar($this->Config, 'showFields');        $params = json_decode($params);                $searchFields = false;        if ($criteria_id) {            # Process custom fields            $search = 1;            $searchFields = $this->Field->getFieldsArrayNew($criteria_id, 'listing', null, $search);        }        $this->set(array('searchFields'=>$searchFields,'criteria_id'=>$criteria_id,'params'=>$params));        return $this->render('jobsalert', 'form_field');    }    function _save() {        $this->Config->store($this->data['Config']);    }}